<!DOCTYPE html>
<html lang="cn">
<head>
    <meta charset="UTF-8">
    <title>正则</title>
</head>
<body>
    <h1>正则</h1>
    <hr>
    <!-- 
		正则表达式
			用于搜索, 替换, 验证等功能

		1. 语法
			格式:  / 正则表达式 /模式修正符

		2. 原子
			可见原子:  键盘输出之后, 肉眼可见的字符  例如: 数字, 字母, 标点...
			不可见原子: 键盘输出之后, 肉眼看不见的字符 例如: 空格, 回车, 制表符     

			原子在正则中, 是最小单位

			例如: 
				整数123 	3个原子
				abc 		3个原子

		3. 元字符	
			[ ] 		匹配 [ ]中任意一个原子
			[x-y] 	匹配 x-y 中的任意一个原子
			[^ ]  	匹配 除了[ ] 外任意一个原子
			| 		匹配 竖线的左边 或 右边的整体
			( ) 		将( )内的原子当成一个整体, 看做是一个大原子
			(abc|xyz) 	匹配竖线左边的abc 或 右边的xyz
			
			.       小数点, 匹配任意字符 (除了换行符)
			\d 	 	匹配任意一个数字  [0-9]
			\D		[^0-9]
			\s 		匹配任意一个不可见原子  包含空格, 回车, 制表符..
			\S				一个可见原子
			\w 		匹配任意一个 数字, 字母, 下划线
			\uxxxx  查找十六进制规定的字符
					xxxx : 4位十六进制数
					\u 不变的, 固定的
					例如:
						汉字: \u4e00 ~ \u9fa5

			{n} 	连续匹配前面一个原子出现正好 n次
			{n,} 	连续匹配前面一个原子出现最少 n次
			{n,m} 	连续匹配前面一个原子出现最少 n次, 最多m次
			* 		{0,} 	最少0次
			+ 		{1,} 	最少1次
			? 		{0,1} 	最少0次, 最多1次

			^ 		匹配字符串的开头
			$ 		匹配字符串的结尾

		4. 匹配函数
			match( 正则 )
				返回值: 匹配到的内容

				注意:
					仅匹配一次
					匹配不到, 则返回null

		5. 替换函数
			replace( 正则, 替换值)
				返回值: 替换之后的内容

				注意:
					仅替换一次
					匹配不到, 则返回 原来的值
		
		6. 模式修正符
			i 	不区分大小写
			g 	全部匹配

			正则默认严格区分大小写

			另类用法
				在匹配发生歧义时???
				贪婪: .*
				懒惰: .*?
			
		7. 后向引用
			( ) 	功能1: 将 ( ) 内的内容当成一个大原子
				功能2: 将 ( ) 内的内容存入 子模式组

			\1: \1引用第一个( )的值, 两处的值保持同步
			\2: \2引用第二个( )的值, 两处的值保持同步
			...
			\n: \n引用第n个( )的值, 两处的值保持同步

			条件:
				必须要有 ( ),  \n 才能使用

			在字符串中用 \n, 可以用 $n 代替

		8. 取消子模式
			(?:  )  该( ) 的值 不会送进子模式组

		9. 正向预查
			(?=  ) 		预先检查后面的值    向右
		10. 负向预查
			(?!  ) 		预先检查前面的值  	向左
		

     -->
    
	<script>
		
		// 匹配函数
		// 			012345678
		var str = 'abc987XYZ老干爹';

		reg = /\d/; 	// 检测是否有一个数字
		reg = /[a-z]/;  // 检测是否有一个小写字母
		reg = /老干妈/;  // 检测是否有'老干妈', 匹配不到, 则返回null
		reg = /[A-Z]/; 	// 检测是否有一个大写字母
		reg = /[\u4e00-\u9fa5]/;
		console.log(str.match(reg));
		console.log('-------------------------------')

		// 替换函数
		var str = 'I have money RMB500000, you have money RMB99999999';
		reg = /RMB0/;

		console.log(str.replace(reg, '$'));
		console.log('-------------------------------')



		// 模式修正符
		var str = 'My Name Is 碧池';
		console.log(str.match( /name/ ));
		console.log(str.match( /name/i ));
		console.log(str.match( /[a-z]/ ));
		console.log(str.match( /[a-z]/g ));
		console.log(str.match( /[a-z]/gi ));
		console.log(str.match( /[a-z]/ig ));

		// 贪婪 与 懒惰
		var str = 'i love money_123123123123123123123123';
		console.log(str.match(  /money.*123/  ));  // 贪婪
		console.log(str.match(  /money.*?123/  )); // 懒惰
		console.log('-------------------------------')

		// 后向引用	
		var str = '开开心心, 快快乐乐, 夜夜笙歌';
		console.log(str.match( /(.)\1(.)\2/g)   );

		// 取消子模式
		var str = '2019-01-17';
		console.log(str.match( /\d{4}-\d{2}-\d{2}/ ));
		console.log(str.match( /(\d{4})-(\d{2})-(\d{2})/ ));

		var str = '2019-01-01';
		console.log(str.match( /(\d{4})-(\d{2})-\2/ ));

		var str = '2019-01-01';
		//  (?: ...) 取消子模式的匹配 
		console.log(str.match( /(?:\d{4})-(\d{2})-\1/ ));
		console.log('-------------------------------')



		// 正向预查
			// 银行卡号, 每隔4位 加一个空格
			var str = '2345678901234';
			console.log(str.replace(  /(\d{4})(?=\d)/g,  '$1 ' ));


	</script>








</body>
</html>